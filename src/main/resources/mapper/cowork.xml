<?xml version="1.0" encoding="UTF-8"?>

<!--  
	DTD(Document Type Definition)
	- 작성한 문서가 어떤 문서인지에 대해서 정의해 놓은 것.
	- 하나의 시스템 내에서 사용할 XML 데이터의 구조를 정의하여 유효성을 점검 시 사용하는 태그.
-->

<!-- 마이바티스 문서에서 복사해옴. -->
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

 <mapper namespace="member">


  	<select id="test" resultType="memberDto">
 		select * from member where mem_no = 1
 	</select>	
 	
 	<!-- *******************현우**********************-->
 	<!-- <select id="all" parameterType="int" resultType="projectsdto">
		select * from calendar 작성해야됨 where mem_no = 1
	</select> -->
	

	<!-- *******************세건**********************-->
 	<select id="all" resultType="projectsdto">
		select * from projects order by project_start desc
	</select>
	<select id="getMain" resultType="maindto">
		select * from main_project order by main_no
	</select>
	<select id="status" resultType="statusdto">
		select * from projects_status order by status_no
	</select>
	<insert id="insert" parameterType="projectsdto">
		<selectKey keyProperty="project_no" resultType="int" order="BEFORE">
			select max(project_no) from projects
	    </selectKey>
	    insert into projects values(#{project_no}+1,#{project_name},'',#{project_end},'','',#{project_taker},default,#{project_status},#{project_main})
	</insert>
	<select id="cont" parameterType="int" resultType="projectsdto">
		select * from projects where project_no=#{num}
  </select>

	<!-- **************** hslee **************** -->
	<select id="check" parameterType="String" resultType="int">
		select * from member where mem_id = #{id}
	</select>
	<select id="login" parameterType="String" resultType="memberDTO">
		select * from member where mem_id = #{id}
	</select>
 </mapper> 